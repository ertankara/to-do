"use strict";function taskAdded(t){var a=[];localStorage&&localStorage.getItem("all-tasks")&&(a=JSON.parse(localStorage.getItem("all-tasks"))),a.push(t);var e=JSON.stringify(a);localStorage.setItem("all-tasks",e)}function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var $addTaskInput=document.querySelector("#add-task"),$addTaskButton=document.querySelector("#add-task-button"),$taskContainer=document.querySelector("#task-container"),Task=function t(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.taskText=a,this.isCrossed=e};function addTask(){var t=new Task($addTaskInput.value);if(!(70<t.taskText.length)){var a=document.querySelectorAll(".task").length;a++;var e=document.createElement("span");e.textContent=a+"- "+t.taskText,e.classList.add("task"),$taskContainer.appendChild(e),$addTaskInput.value="",taskAdded(t)}}$taskContainer.addEventListener("click",function(t){if("SPAN"===t.target.nodeName){var a=JSON.parse(localStorage.getItem("all-tasks"));if(t.target.className.match(/done-task/g)){t.target.classList.remove("done-task");for(var e=0;e<a.length;e++)if(t.target.textContent.replace(/[0-9]- /g,"")===a[e].taskText){a[e].isCrossed=!1;break}localStorage.setItem("all-tasks",JSON.stringify(a))}else{t.target.classList.add("done-task");for(var s=0;s<a.length;s++)if(t.target.textContent.replace(/[0-9]- /g,"")===a[s].taskText){a[s].isCrossed=!0;break}localStorage.setItem("all-tasks",JSON.stringify(a))}}}),$addTaskButton.addEventListener("click",addTask),document.addEventListener("keydown",function(t){13===t.keyCode&&document.activeElement===$addTaskInput&&addTask()}),document.addEventListener("DOMContentLoaded",function(){if(localStorage&&localStorage.getItem("all-tasks"))for(var t=JSON.parse(localStorage.getItem("all-tasks")),a=0;a<t.length;a++){var e=t[a],s=document.createElement("span");s.classList.add("task"),e.isCrossed&&s.classList.add("done-task"),s.textContent=a+1+"- "+e.taskText,$taskContainer.appendChild(s)}});